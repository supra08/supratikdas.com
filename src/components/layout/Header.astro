---
import { menuLinks } from "@/site-config";

import Search from "../Search.astro";
import ThemeToggle from "../ThemeToggle.astro";

const url = new URL(Astro.request.url);
---

<header class="group relative mb-16 items-center" id="main-header">
	<div class="mt-4 flex items-center justify-between gap-2">
		<div class="flex sm:flex-col">
			<a
				aria-current={url.pathname === "/" ? "page" : false}
				class="inline-flex items-center font-sans text-3xl font-extrabold uppercase tracking-tight text-textColor grayscale hover:filter-none sm:relative sm:inline-block sm:text-5xl"
				href="/"
			>
				<span>Supratik Das<span class="font-mono text-3xl text-accent sm:text-5xl">.</span></span>
			</a>
		</div>
		<div class="flex items-center gap-2">
			<Search />
			<ThemeToggle />
		</div>
	</div>

	<!-- Navigation items displayed horizontally below hero content in responsive mode -->
	<nav
		aria-label="Main menu"
		class="mt-4 flex flex-wrap items-center justify-start gap-x-2 gap-y-2 text-xs font-normal uppercase tracking-widest text-textColor/70 sm:hidden"
		id="mobile-navigation"
	>
		{
			menuLinks.map((link) => (
				<a
					aria-current={url.pathname === link.path ? "page" : false}
					class="transition-colors hover:text-teOrange focus:text-teBlue"
					data-astro-prefetch
					href={link.path}
				>
					{link.title}
				</a>
			))
		}
	</nav>

	<!-- Desktop navigation (unchanged) -->
	<nav
		aria-label="Main menu"
		class="absolute -inset-x-4 top-0 hidden flex-col items-end gap-y-4 bg-bgColor/[.85] py-4 shadow backdrop-blur sm:static sm:z-auto sm:-ms-4 sm:mt-4 sm:flex sm:flex-row sm:items-center sm:divide-x sm:bg-transparent sm:py-0 sm:shadow-none sm:backdrop-blur-none"
		id="desktop-navigation"
	>
		{
			menuLinks.map((link) => (
				<a
					aria-current={url.pathname === link.path ? "page" : false}
					class="px-4 py-4 text-base font-normal uppercase tracking-widest transition-colors sm:py-0 sm:hover:text-teOrange sm:focus:text-teBlue"
					data-astro-prefetch
					href={link.path}
				>
					{link.title}
				</a>
			))
		}
	</nav>
</header>
